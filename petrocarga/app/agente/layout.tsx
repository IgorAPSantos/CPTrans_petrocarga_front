import Footer from '@/components/gestor/layout/footer';
import { Metadata } from 'next';
import { MapProvider } from '@/context/MapContext';
import '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';
import { Navbar } from '@/components/agente/layout/navbar';
import PrivateRoute from '@/context/PrivateRoute';

export const metadata: Metadata = {
  title: 'PetroCarga',
  description:
    'O Petrocarga tr√°s aos motoristas uma plataforma eficiente para gerenciamento de cargas e rotas.',
};

export default function GestorLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <div className="flex min-h-screen flex-col">
      <Navbar />
      <main className="flex-1 relative">
        <PrivateRoute allowedRoles={['AGENTE']}>
          <MapProvider>{children}</MapProvider>
        </PrivateRoute>
      </main>
      <Footer />
    </div>
  );
}
